<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>La Casa de Green ✅️</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      padding: 15px;
      max-width: 100%;
      margin: 0 auto;
      line-height: 1.6;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 20px;
      font-size: 1.8em;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
      color: #444;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
    }
    .section {
      border: 1px solid #e0e0e0;
      padding: 15px;
      margin-top: 15px;
      border-radius: 5px;
      background-color: #f9f9f9;
    }
    .section h2 {
      color: #333;
      margin-bottom: 10px;
      border-bottom: 2px solid #4CAF50;
      padding-bottom: 5px;
    }
    button {
      width: 100%;
      padding: 12px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      margin-top: 15px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background-color: #45a049;
    }
    button.clear {
      background-color: #f44336;
      margin-top: 20px;
    }
    .results {
      margin-top: 10px;
      background: #f1f1f1;
      padding: 15px;
      border-radius: 5px;
    }
    .results p {
      margin-bottom: 5px;
    }
    #mensagemErro {
      color: red;
      font-weight: bold;
      text-align: center;
      margin-top: 10px;
    }
    .footer {
      margin-top: 30px;
      text-align: center;
      font-weight: bold;
      color: #666;
    }
    .badge {
      font-size: 10px;
      color: #999;
      margin-left: 10px;
    }
    .inputWithSelect {
      display: inline-flex;
      align-items: center;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
      width: 100%;
      margin-bottom: 10px;
    }
    .inputWithSelect input {
      border: none;
      outline: none;
      padding: 10px;
      width: 60%;
      font-size: 16px;
    }
    .inputWithSelect select {
      border: none;
      padding: 10px;
      border-left: 1px solid #ddd;
      background: #fff;
      font-size: 16px;
      width: 40%;
    }
    .hidden {
      display: none;
    }
    .extraOutcome {
      border: 1px solid #ccc;
      padding: 10px;
      margin-top: 5px;
      border-radius: 4px;
      background-color: #e8e8e8;
    }
    .remove-extra-btn {
      background-color: #d32f2f;
      color: #fff;
      border: none;
      padding: 5px 10px;
      border-radius: 3px;
      margin-top: 5px;
      cursor: pointer;
    }
    .remove-extra-btn:hover {
      background-color: #b71c1c;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>La Casa de Green ✅️</h1>
<label for="modoSelect">Selecione o Modo:</label>
    <select id="modoSelect" onchange="alternarModo()">
      <option value="aumentoSimples">Aumento Simples (3 Back Bets)</option>
      <option value="parOuImpar">Par ou Ímpar (2 Back Bets)</option>
      <option value="backLay">Back & Lay</option>
      <option value="aumentoComLay">Aumento com Lay</option>
    </select>

    <!-- Aumento Simples -->
    <div id="aumentoSimples" class="section">
      <h2>Aumento Simples</h2>
      <!-- Casa -->
      <label for="oddBack1">Odd Casa (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddBack1" step="0.01" placeholder="Ex: 2.00">
        <select id="aumentoOdd1" onchange="toggleCustomInput(this, 'customInputOdd1')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOdd1" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoCasa" onchange="toggleComissaoCasa()"> Usar Comissão para Casa</label>
      <div id="comissaoCasaContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddCasa" onchange="toggleCustomInput(this, 'customInputComissaoOddCasa')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddCasa" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <!-- Empate -->
      <label for="oddBack2">Odd Empate (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddBack2" step="0.01" placeholder="Ex: 3.00">
        <select id="aumentoOdd2" onchange="toggleCustomInput(this, 'customInputOdd2')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOdd2" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoEmpate" onchange="toggleComissaoEmpate()"> Usar Comissão para Empate</label>
      <div id="comissaoEmpateContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddEmpate" onchange="toggleCustomInput(this, 'customInputComissaoOddEmpate')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddEmpate" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <!-- Fora -->
      <label for="oddBack3">Odd Fora (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddBack3" step="0.01" placeholder="Ex: 4.00">
        <select id="aumentoOdd3" onchange="toggleCustomInput(this, 'customInputOdd3')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOdd3" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoFora" onchange="toggleComissaoFora()"> Usar Comissão para Fora</label>
      <div id="comissaoForaContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddFora" onchange="toggleCustomInput(this, 'customInputComissaoOddFora')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddFora" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <label for="principal">Selecione a aposta principal:</label>
      <select id="principal">
        <option value="1">Aposta Casa</option>
        <option value="2">Aposta Empate</option>
        <option value="3">Aposta Fora</option>
      </select>
      <label for="stakePrincipal">Aposta para o Resultado principal (R$):</label>
      <input type="number" id="stakePrincipal" step="0.01" placeholder="Ex: 53.00">
      <button type="button" onclick="adicionarExtra()">Adicionar Extra</button>
      <div id="extrasContainerSimples"></div>
      <button onclick="calcularAumentoSimples()">Calcular</button>
      <div class="results">
        <p><strong>Aposta Casa:</strong> R$ <span id="stakeResultado1"></span></p>
        <p><strong>Aposta Empate:</strong> R$ <span id="stakeResultado2"></span></p>
        <p><strong>Aposta Fora:</strong> R$ <span id="stakeResultado3"></span></p>
        <div id="extraResultsContainerSimples" style="display:none;">
          <div id="extraResultsSimples"></div>
        </div>
        <p><strong>Lucro (independente do resultado):</strong> R$ <span id="lucroAumentoSimples"></span></p>
      </div>
    </div>
    
    <!-- Par ou Ímpar -->
    <div id="parOuImpar" class="section hidden">
      <h2>Par ou Ímpar</h2>
      <label for="oddPar">Odd Par (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddPar" step="0.01" placeholder="Ex: 1.80">
        <select id="aumentoOddPar" onchange="toggleCustomInput(this, 'customInputOddPar')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOddPar" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoPar" onchange="toggleComissaoPar()"> Usar Comissão para Par</label>
      <div id="comissaoParContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddPar" onchange="toggleCustomInput(this, 'customInputComissaoOddPar')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddPar" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <label for="oddImpar">Odd Ímpar (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddImpar" step="0.01" placeholder="Ex: 1.80">
        <select id="aumentoOddImpar" onchange="toggleCustomInput(this, 'customInputOddImpar')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOddImpar" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label for="stakePar">Aposta no Par (R$):</label>
      <input type="number" id="stakePar" step="0.01" placeholder="Ex: 20.00">
      <button onclick="calcularParOuImpar()">Calcular</button>
      <div class="results">
        <p><strong>Aposta no Ímpar:</strong> R$ <span id="stakeImpar"></span></p>
        <p><strong>Lucro/Retorno:</strong> R$ <span id="lucroParOuImpar"></span></p>
      </div>
    </div>

    <!-- Back & Lay -->
    <div id="backLay" class="section hidden">
      <h2>Back & Lay</h2>
      <label for="oddBack">Odd Back (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddBack" step="0.01" placeholder="Ex: 2.00">
        <select id="aumentoOddBack" onchange="toggleCustomInput(this, 'customInputOddBack')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOddBack" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label for="oddLay">Odd Lay:</label>
      <input type="number" id="oddLay" step="0.01" placeholder="Ex: 2.00">
      <label for="stakeBack">Aposta no Back (R$):</label>
      <input type="number" id="stakeBack" step="0.01" placeholder="Ex: 10.00">
      <label for="comissaoLay">Comissão no Lay (%):</label>
      <div class="inputWithSelect">
        <select id="comissaoLay" onchange="toggleCustomInput(this, 'customInputComissaoLay')">
          <option value="0">0% (Sem Taxa)</option>
          <option value="2.8">2,8%</option>
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputComissaoLay" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      <button onclick="calcularBackLay()">Calcular</button>
      <div class="results">
        <p><strong>Aposta Sugerida no Lay:</strong> R$ <span id="stakeLay"></span></p>
        <p><strong>Responsabilidade (Lay):</strong> R$ <span id="responsabilidadeLay"></span></p>
        <p><strong>Lucro se o Back vencer:</strong> R$ <span id="lucroSeBackVencer"></span></p>
        <p><strong>Lucro se o Lay vencer:</strong> R$ <span id="lucroSeLayVencer"></span></p>
      </div>
    </div>

    <!-- Aumento com Lay -->
    <div id="aumentoComLay" class="section hidden">
      <h2>Aumento com Lay</h2>
      <label for="oddCasaLay">Odd Casa (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddCasaLay" step="0.01" placeholder="Ex: 2.00">
        <select id="aumentoOddCasaLay" onchange="toggleCustomInput(this, 'customInputOddCasaLay')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOddCasaLay" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoCasaLay" onchange="toggleComissaoCasaLay()"> Usar Comissão para Casa</label>
      <div id="comissaoCasaLayContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddCasaLay" onchange="toggleCustomInput(this, 'customInputComissaoOddCasaLay')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddCasaLay" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <label for="oddEmpateLay">Odd Empate (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddEmpateLay" step="0.01" placeholder="Ex: 3.00">
        <select id="aumentoOddEmpateLay" onchange="toggleCustomInput(this, 'customInputOddEmpateLay')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOddEmpateLay" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoEmpateLay" onchange="toggleComissaoEmpateLay()"> Usar Comissão para Empate</label>
      <div id="comissaoEmpateLayContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddEmpateLay" onchange="toggleCustomInput(this, 'customInputComissaoOddEmpateLay')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddEmpateLay" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <label for="oddForaLay">Odd Fora (Original) + Aumento:</label>
      <div class="inputWithSelect">
        <input type="number" id="oddForaLay" step="0.01" placeholder="Ex: 4.00">
        <select id="aumentoOddForaLay" onchange="toggleCustomInput(this, 'customInputOddForaLay')">
          <option value="0">Sem aumento (0%)</option>
          <option value="25">25%</option>
          <option value="30">30%</option>
          <option value="50">50%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputOddForaLay" step="0.01" placeholder="Digite o valor personalizado (%)" style="display:none;">
      <label><input type="checkbox" id="toggleComissaoForaLay" onchange="toggleComissaoForaLay()"> Usar Comissão para Fora</label>
      <div id="comissaoForaLayContainer" class="inputWithSelect" style="display:none;">
        <select id="comissaoOddForaLay" onchange="toggleCustomInput(this, 'customInputComissaoOddForaLay')">
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">Personalizada</option>
        </select>
        <input type="number" id="customInputComissaoOddForaLay" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      </div>
      <label for="oddLayAumento">Odd Lay:</label>
      <input type="number" id="oddLayAumento" step="0.01" placeholder="Ex: 4.60">
      <label for="comissaoLayAumento">Comissão Lay (%):</label>
      <div class="inputWithSelect">
        <select id="comissaoLayAumento" onchange="toggleCustomInput(this, 'customInputComissaoLayAumento')">
          <option value="0">0% (Sem Taxa)</option>
          <option value="2.8">2,8%</option>
          <option value="4.5">4,5%</option>
          <option value="6.5">6,5%</option>
          <option value="custom">% Personalizada</option>
        </select>
      </div>
      <input type="number" id="customInputComissaoLayAumento" step="0.01" placeholder="Digite a comissão personalizada (%)" style="display:none;">
      <label for="stakePrincipalLay">Stake Principal (R$):</label>
      <input type="number" id="stakePrincipalLay" step="0.01" placeholder="Ex: 50.00">
      <button type="button" onclick="adicionarExtraLay()">Adicionar Extra</button>
      <div id="extrasContainerLay"></div>
      <button onclick="calcularAumentoComLay()">Calcular</button>
      <div class="results">
        <p><strong>Aposta Casa:</strong> R$ <span id="stakeCasaLay"></span></p>
        <p><strong>Aposta Empate:</strong> R$ <span id="stakeEmpateLay"></span></p>
        <p><strong>Aposta Fora:</strong> R$ <span id="stakeForaLay"></span></p>
        <p><strong>Aposta Lay:</strong> R$ <span id="stakeLayAumento"></span> (Responsabilidade: R$ <span id="responsabilidadeLayAumento"></span>)</p>
        <div id="extraResultsContainerLay" style="display:none;">
          <div id="extraResultsLay"></div>
        </div>
        <p><strong>Lucro (independente do resultado):</strong> R$ <span id="lucroFinalLay"></span></p>
      </div>
    </div>

    <p id="mensagemErro"></p>
    <button onclick="limparCampos()" class="clear">Limpar Todos os Campos</button>
    <div class="footer">La Casa de Green ✅️ <span class="badge">By Negueta</span></div>
  </div><script>
  let nextExtraId = 1;
  let activeExtrasSimples = [];
  let activeExtrasLay = [];

  // Alternar modos: mostra o modo selecionado e esconde os demais
  function alternarModo() {
    ['aumentoSimples', 'parOuImpar', 'backLay', 'aumentoComLay'].forEach(mode => {
      document.getElementById(mode).classList.add('hidden');
    });
    const modo = document.getElementById('modoSelect').value;
    document.getElementById(modo).classList.remove('hidden');
    document.getElementById('mensagemErro').textContent = '';
  }

  // Exibe o campo de input personalizado quando "custom" é selecionado
  function toggleCustomInput(selectElement, inputId) {
    const customInput = document.getElementById(inputId);
    customInput.style.display = (selectElement.value === "custom") ? "block" : "none";
  }

  // Função para obter o valor de um input ou select; trata campos "custom"
  function getNumero(id) {
    const elemento = document.getElementById(id);
    if (!elemento || elemento.value === "") return 0;
    if (elemento.tagName === "SELECT" && elemento.value === "custom") {
      const customInputId = id.replace("aumento", "customInput").replace("comissao", "customInputComissao");
      return parseFloat(document.getElementById(customInputId).value) || 0;
    }
    return parseFloat(elemento.value);
  }

  // Aplica o aumento percentual à odd original
  function aplicarAumentoOdd(oddOriginal, percentual) {
    return (oddOriginal - 1) * (1 + percentual / 100) + 1;
  }

  // Funções de comissão para os diferentes mercados nos modos
  function toggleComissaoCasa() {
    const checkbox = document.getElementById('toggleComissaoCasa');
    const container = document.getElementById('comissaoCasaContainer');
    const aumento = document.getElementById('aumentoOdd1');
    const custom = document.getElementById('customInputOdd1');
    container.style.display = checkbox.checked ? 'inline-flex' : 'none';
    aumento.style.display = checkbox.checked ? 'none' : 'block';
    custom.style.display = 'none';
  }

  function toggleComissaoEmpate() {
    const checkbox = document.getElementById('toggleComissaoEmpate');
    const container = document.getElementById('comissaoEmpateContainer');
    const aumento = document.getElementById('aumentoOdd2');
    const custom = document.getElementById('customInputOdd2');
    container.style.display = checkbox.checked ? 'inline-flex' : 'none';
    aumento.style.display = checkbox.checked ? 'none' : 'block';
    custom.style.display = 'none';
  }

  function toggleComissaoFora() {
    const checkbox = document.getElementById('toggleComissaoFora');
    const container = document.getElementById('comissaoForaContainer');
    const aumento = document.getElementById('aumentoOdd3');
    const custom = document.getElementById('customInputOdd3');
    container.style.display = checkbox.checked ? 'inline-flex' : 'none';
    aumento.style.display = checkbox.checked ? 'none' : 'block';
    custom.style.display = 'none';
  }

  function toggleComissaoPar() {
    const checkbox = document.getElementById('toggleComissaoPar');
    const container = document.getElementById('comissaoParContainer');
    const aumento = document.getElementById('aumentoOddPar');
    const custom = document.getElementById('customInputOddPar');
    container.style.display = checkbox.checked ? 'inline-flex' : 'none';
    aumento.style.display = checkbox.checked ? 'none' : 'block';
    custom.style.display = 'none';
  }

  // Funções para gerenciamento de Extras
  function adicionarExtra() {
    if (activeExtrasSimples.length >= 5) {
      alert("Você já adicionou o máximo de 5 extras.");
      return;
    }
    const id = nextExtraId++;
    activeExtrasSimples.push(id);
    const container = document.getElementById("extrasContainerSimples");
    const div = document.createElement("div");
    div.className = "extraOutcome";
    div.id = "extraContainerSimples" + id;
    div.innerHTML = `
      <label>Extra ${id} - Odd:</label>
      <input type="number" id="extraOdd${id}" step="0.01" placeholder="Ex: 2.50">
      <button type="button" class="remove-extra-btn" onclick="removerExtraSimples(${id})">Remover Extra ${id}</button>
    `;
    container.appendChild(div);
  }

  function removerExtraSimples(id) {
    activeExtrasSimples = activeExtrasSimples.filter(e => e !== id);
    const div = document.getElementById("extraContainerSimples" + id);
    if (div) div.remove();
  }

  function adicionarExtraLay() {
    if (activeExtrasLay.length >= 5) {
      alert("Você já adicionou o máximo de 5 extras.");
      return;
    }
    const id = nextExtraId++;
    activeExtrasLay.push(id);
    const container = document.getElementById("extrasContainerLay");
    const div = document.createElement("div");
    div.className = "extraOutcome";
    div.id = "extraContainerLay" + id;
    div.innerHTML = `
      <label>Extra ${id} - Odd:</label>
      <input type="number" id="extraOdd${id}" step="0.01" placeholder="Ex: 2.50">
      <button type="button" class="remove-extra-btn" onclick="removerExtraLay(${id})">Remover Extra ${id}</button>
    `;
    container.appendChild(div);
  }

  function removerExtraLay(id) {
    activeExtrasLay = activeExtrasLay.filter(e => e !== id);
    const div = document.getElementById("extraContainerLay" + id);
    if (div) div.remove();
  }

  // Cálculo para o modo Aumento Simples
  function calcularAumentoSimples() {
    let oddCasa = document.getElementById('toggleComissaoCasa').checked
      ? (getNumero('oddBack1') - 1) * (1 - getNumero('comissaoOddCasa') / 100) + 1
      : aplicarAumentoOdd(getNumero('oddBack1'), getNumero('aumentoOdd1'));

    let oddEmpate = document.getElementById('toggleComissaoEmpate').checked
      ? (getNumero('oddBack2') - 1) * (1 - getNumero('comissaoOddEmpate') / 100) + 1
      : aplicarAumentoOdd(getNumero('oddBack2'), getNumero('aumentoOdd2'));

    let oddFora = document.getElementById('toggleComissaoFora').checked
      ? (getNumero('oddBack3') - 1) * (1 - getNumero('comissaoOddFora') / 100) + 1
      : aplicarAumentoOdd(getNumero('oddBack3'), getNumero('aumentoOdd3'));

    const odds = [oddCasa, oddEmpate, oddFora];
    const principal = parseInt(document.getElementById('principal').value);
    const stakePrincipal = getNumero('stakePrincipal');
    const retornoAlvo = stakePrincipal * odds[principal - 1];
    const stakesReais = odds.map((odd, i) =>
      i + 1 === principal ? stakePrincipal : retornoAlvo / odd
    );
    const totalInvestidoPrincipais = stakesReais.reduce((a, b) => a + b, 0);

    let extrasTotalInvestido = 0;
    let extrasHtml = "";
    activeExtrasSimples.forEach(id => {
      const oddExtra = getNumero("extraOdd" + id);
      if (oddExtra > 0) {
        const stakeExtra = retornoAlvo / oddExtra;
        extrasTotalInvestido += stakeExtra;
        extrasHtml += `<p><strong>Extra ${id}:</strong> Odd: ${oddExtra.toFixed(2)} | Stake: ${stakeExtra.toFixed(2)}</p>`;
      }
    });

    if (activeExtrasSimples.length > 0) {
      document.getElementById("extraResultsContainerSimples").style.display = "block";
      document.getElementById("extraResultsSimples").innerHTML = extrasHtml;
    } else {
      document.getElementById("extraResultsContainerSimples").style.display = "none";
    }

    const totalInvestido = totalInvestidoPrincipais + extrasTotalInvestido;
    const lucroFinal = retornoAlvo - totalInvestido;

    document.getElementById('stakeResultado1').textContent = stakesReais[0].toFixed(2);
    document.getElementById('stakeResultado2').textContent = stakesReais[1].toFixed(2);
    document.getElementById('stakeResultado3').textContent = stakesReais[2].toFixed(2);
    document.getElementById('lucroAumentoSimples').textContent = lucroFinal.toFixed(2);
    document.getElementById('mensagemErro').textContent = "";
  }

  // Cálculo para o modo Par ou Ímpar
  function calcularParOuImpar() {
    let oddPar = document.getElementById('toggleComissaoPar').checked
      ? (getNumero('oddPar') - 1) * (1 - getNumero('comissaoOddPar') / 100) + 1
      : aplicarAumentoOdd(getNumero('oddPar'), getNumero('aumentoOddPar'));
    const oddImpar = aplicarAumentoOdd(getNumero('oddImpar'), getNumero('aumentoOddImpar'));
    const stakePar = getNumero('stakePar');
    const retorno = stakePar * oddPar;
    const stakeImpar = retorno / oddImpar;
    const lucro = retorno - stakePar - stakeImpar;

    document.getElementById('stakeImpar').textContent = stakeImpar.toFixed(2);
    document.getElementById('lucroParOuImpar').textContent = lucro.toFixed(2);
  }

  // Cálculo para o modo Back & Lay
  function calcularBackLay() {
    const oddBack = aplicarAumentoOdd(getNumero('oddBack'), getNumero('aumentoOddBack'));
    const oddLay = getNumero('oddLay');
    const stakeBack = getNumero('stakeBack');
    const comissao = getNumero('comissaoLay') / 100;
    const stakeLay = (stakeBack * oddBack) / (oddLay - comissao);
    const responsabilidade = stakeLay * (oddLay - 1);
    const lucroBack = stakeBack * (oddBack - 1) - responsabilidade;
    const lucroLay = stakeLay * (1 - comissao) - stakeBack;

    document.getElementById('stakeLay').textContent = stakeLay.toFixed(2);
    document.getElementById('responsabilidadeLay').textContent = responsabilidade.toFixed(2);
    document.getElementById('lucroSeBackVencer').textContent = lucroBack.toFixed(2);
    document.getElementById('lucroSeLayVencer').textContent = lucroLay.toFixed(2);
  }

  // Cálculo para o modo Aumento com Lay
  function calcularAumentoComLay() {
    const stakePrincipal = getNumero("stakePrincipalLay");
    const oddLay = getNumero("oddLayAumento");
    const comissaoLay = getNumero("comissaoLayAumento") / 100;

    const mercados = ["Casa", "Empate", "Fora"].map(nome => {
      const suffix = nome === "Casa" ? "" : nome;
      const odd = getNumero("odd" + nome + "Lay");
      const aumento = getNumero("aumentoOdd" + nome + "Lay");
      return { nome, odd: aplicarAumentoOdd(odd, aumento), aumento };
    });

    const odds = mercados.map(m => m.odd);
    const retornos = mercados.map(m => m.aumento > 0 ? stakePrincipal * m.odd : Infinity);
    const retornoAlvo = Math.min(...retornos);
    const stakesIdeais = odds.map(odd => retornoAlvo / odd);
    const excedentes = mercados.map((m, i) => m.aumento > 0 ? stakePrincipal - stakesIdeais[i] : 0);
    const stakesLay = excedentes.map((exc, i) =>
      exc > 0 ? (exc * odds[i]) / (oddLay - comissaoLay) : 0
    );
    const responsabilidades = stakesLay.map(stake => stake * (oddLay - 1));
    const lucroLay = excedentes.map((exc, i) => {
      if (exc > 0) {
        const stakeLay_i = stakesLay[i];
        const responsabilidade_i = responsabilidades[i];
        return (exc * (odds[i] - 1)) - responsabilidade_i;
      }
      return 0;
    }).reduce((a, b) => a + b, 0);

    const extras = activeExtrasLay.map(id => {
      const odd = getNumero("extraOdd" + id);
      const stake = retornoAlvo / odd;
      return { id, odd, stake };
    });
    const totalExtras = extras.reduce((acc, ex) => acc + ex.stake, 0);

    const lucroBase = retornoAlvo - stakesIdeais.reduce((a, b) => a + b, 0);
    const lucroFinal = lucroBase + lucroLay - totalExtras;

    document.getElementById("stakeCasaLay").textContent = mercados[0].aumento > 0 ? stakePrincipal.toFixed(2) : stakesIdeais[0].toFixed(2);
    document.getElementById("stakeEmpateLay").textContent = mercados[1].aumento > 0 ? stakePrincipal.toFixed(2) : stakesIdeais[1].toFixed(2);
    document.getElementById("stakeForaLay").textContent = mercados[2].aumento > 0 ? stakePrincipal.toFixed(2) : stakesIdeais[2].toFixed(2);
    document.getElementById("stakeLayAumento").textContent = stakesLay.reduce((a, b) => a + b, 0).toFixed(2);
    document.getElementById("responsabilidadeLayAumento").textContent = responsabilidades.reduce((a, b) => a + b, 0).toFixed(2);
    document.getElementById("lucroFinalLay").textContent = lucroFinal.toFixed(2);

    if (extras.length > 0) {
      const extrasHtml = extras.map(ex =>
        `<p><strong>Extra ${ex.id}:</strong> Odd: ${ex.odd.toFixed(2)} | Stake: ${ex.stake.toFixed(2)}</p>`
      ).join("");
      document.getElementById("extraResultsContainerLay").style.display = "block";
      document.getElementById("extraResultsLay").innerHTML = extrasHtml;
    } else {
      document.getElementById("extraResultsContainerLay").style.display = "none";
    }
  }

  function limparCampos() {
    // Limpa apenas os resultados e as áreas de extras (não limpa os inputs para manter os valores inseridos)
    document.querySelectorAll(".results span").forEach(span => span.textContent = "");
    document.getElementById("extrasContainerSimples").innerHTML = "";
    document.getElementById("extrasContainerLay").innerHTML = "";
    document.getElementById("extraResultsContainerSimples").style.display = "none";
    document.getElementById("extraResultsContainerLay").style.display = "none";
    activeExtrasSimples = [];
    activeExtrasLay = [];
    nextExtraId = 1;
  }

  document.addEventListener("DOMContentLoaded", alternarModo);
</script>
</body>
</html>
